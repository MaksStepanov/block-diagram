<html>
    <head>
        <link rel="stylesheet" type="text/css" href=style.css>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/jquery-ui.min.js"></script>
        <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.10.3/themes/sunny/jquery-ui.css"></script>
    </head>
    <body>
        <div id="parent"></div>
        <div id="block-1" class="show" onmousemove="moveElement(event);" draggable="true">
            <img src="images/voltmeter.png" class="picture">
        </div>
        <input type="button" value="add" onclick="addElement();" onmousedown="viewDiv();" >
        <input type="button" value="remove" onclick="removeElement();">

        <div id="block-2" class="show" onmousemove="moveElement(event);" draggable="true">
                <img src="images/voltmeter.png" class="picture">
            </div>
            <input type="button" value="add" onclick="addElement();" onmousedown="viewDiv();">
            <input type="button" value="remove" onclick="removeElement();">

        <script>
            function addElement() {
                 var element = document.getElementById('block-1'); 
                 var div = document.createElement('div');
                 var br = document.createElement('br');

                 div.id = 'block-1';        
                 
                 element.appendChild(div);
                 element.appendChild(br);
        }

            function removeElement() {
                var element = document.getElementById('block-1');
                var lastNode = element.lastChild;

                while(lastNode && lastNode.nodeType != 1) {
                    // перейти к предыдущему узлу
                    lastNode = lastNode.previousSibling;
                }

                if (lastNode) {
                    lastNode.parentNode.removeChild(lastNode);
                }
                
                //document.appendChild.removeChild(element);
                
                
}
              
                
               
                let element = document.querySelector('#block-1');
                let offsetX;
                let offsetY;

                element.addEventListener('dragstart', function(event) {
                        console.log(event.offsetX, event.offsetY);
                        offsetX = event.offsetX;
                        offsetY = event.offsetY;
                });

                    element.addEventListener('dragend', function(event) {
                        console.log(event.pageX, event.pageY);
                        element.style.top = (event.pageY - offsetY) + 'px';
                        element.style.left = (event.pageX - offsetX) + 'px';
                    });
                
                 
                  function viewDiv() {
                       document.getElementById("block-1").className = "show show_visible ";  
                  }
                    
                 
        </script>
       
        <script>
            /*
$(function() {
	
	$('#block-1').draggable();
	
});
*/
        </script>

    </body>
</html>